group 'minecraft.game'
version '1.0'

task wrapper(type: Wrapper) {
	gradleVersion = '2.5'
	distributionUrl = "https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip"
}

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'groovy'

targetCompatibility = 1.7
sourceCompatibility = 1.7

sourceSets {
	main {
		java {
			srcDirs = []
		}
		groovy {
			srcDirs = ['src/main/java', 'src/main/groovy']
		}
	}

	test {
		java {
			srcDirs = []
		}
		groovy {
			srcDirs = ['src/test/java', 'src/test/groovy']
		}
	}
}

repositories {
	mavenCentral()
}

dependencies {
	testCompile group: 'junit', name: 'junit', version: '4.11'
	compile 'org.codehaus.groovy:groovy-all:2.4.4'
	compile files("${projectDir}/src/main/libs/tinyserver-1.0.jar") // local jars
}

jar {
	manifest {
		attributes 'Main-Class': 'minecraft.game.Main'
	}
	from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}